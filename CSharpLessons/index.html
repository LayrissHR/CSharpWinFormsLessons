<!DOCTYPE html>
<html lang="bg">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ–Ω –£—Ä–æ–∫: –¢—Ä–∏—Å–ª–æ–π–Ω–∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <style>
            body {
                font-family: "Inter", sans-serif;
                scroll-behavior: smooth;
            }
            .step-indicator {
                background-color: #4f46e5;
                color: white;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: 700;
                font-size: 1.2rem;
                flex-shrink: 0;
            }
            .code-block {
                background-color: #1e293b;
                color: #e2e8f0;
                padding: 1rem;
                border-radius: 0.5rem;
                position: relative;
                overflow-x: auto;
            }
            .code-block pre {
                white-space: pre-wrap;
                word-wrap: break-word;
            }
            .copy-btn {
                position: absolute;
                top: 0.5rem;
                right: 0.5rem;
                background-color: #334155;
                color: #cbd5e1;
                border: none;
                padding: 0.25rem 0.5rem;
                border-radius: 0.25rem;
                cursor: pointer;
                font-size: 0.8rem;
            }
            .copy-btn:hover {
                background-color: #475569;
            }
            .winforms-window {
                border: 1px solid #9ca3af;
                border-radius: 8px;
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
                    0 4px 6px -2px rgba(0, 0, 0, 0.05);
                background-color: #f9fafb;
            }
            .winforms-titlebar {
                background-color: #e5e7eb;
                padding: 6px 12px;
                border-top-left-radius: 7px;
                border-top-right-radius: 7px;
                display: flex;
                align-items: center;
                justify-content: space-between;
                font-size: 0.9rem;
                font-weight: 500;
            }
            .winforms-body {
                padding: 1.5rem;
            }
            .code-comment {
                color: #94a3b8; /* Lighter color for comments */
            }
            .button {
                background-color: #4f46e5;
                color: #f9fafb;
                width: auto;
                height: 3rem;
                margin-left: 45%;
                margin-right: 4%;
                padding: 0.5rem;
                border-radius: 0.5rem;
                cursor: pointer;
                font-size: 1rem;
            }
        </style>
    </head>
    <body class="bg-slate-50 text-slate-800">
        <!-- Header -->
        <header class="bg-white shadow-md sticky top-0 z-10">
            <div class="container mx-auto px-6 py-4">
                <h1 class="text-3xl font-bold text-indigo-600">
                    –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ–Ω –£—Ä–æ–∫: –¢—Ä–∏—Å–ª–æ–π–Ω–∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
                </h1>
                <p class="text-slate-600 mt-1">
                    –†–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞–¥–µ–π: –ö–∞–∫ –¥–∞ –ø–∏—à–µ–º –ø–æ-—á–∏—Å—Ç –∏ –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–Ω –∫–æ–¥ –≤
                    C# –∏ WinForms.
                </p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="container mx-auto px-6 py-12">
            <!-- Introduction -->
            <section id="intro" class="mb-16">
                <div class="flex items-start gap-6">
                    <div class="step-indicator">1</div>
                    <div>
                        <h2 class="text-2xl font-bold mb-3">
                            –ö–∞–∫–≤–æ –µ "–¢—Ä–∏—Å–ª–æ–π–Ω–∞ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"?
                        </h2>
                        <p class="mb-4">
                            –ü—Ä–µ–¥—Å—Ç–∞–≤–µ—Ç–µ —Å–∏, —á–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–≤–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í
                            –Ω–∞—á–∞–ª–æ—Ç–æ –µ –ª–µ—Å–Ω–æ - –ø–∏—à–µ—Ç–µ —Ü–µ–ª–∏—è –∫–æ–¥ –Ω–∞ –µ–¥–Ω–æ –º—è—Å—Ç–æ.
                            –ù–æ —Å –≤—Ä–µ–º–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Å—Ç–∞–≤–∞ –ø–æ-–≥–æ–ª—è–º–æ –∏ –∫–æ–¥—ä—Ç
                            —Å—Ç–∞–≤–∞ –æ–±—ä—Ä–∫–∞–Ω. –°—Ç–∞–≤–∞ —Ç—Ä—É–¥–Ω–æ –¥–∞ —Å–µ –Ω–∞–º–µ—Ä–∏ –Ω–µ—â–æ, –¥–∞ —Å–µ
                            –ø–æ–ø—Ä–∞–≤–∏ –≥—Ä–µ—à–∫–∞ –∏–ª–∏ –¥–∞ —Å–µ –¥–æ–±–∞–≤–∏ –Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç.
                        </p>
                        <p class="mb-4">
                            –¢—Ä–∏—Å–ª–æ–π–Ω–∞—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –µ –Ω–∞—á–∏–Ω –¥–∞ –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–º–µ –∫–æ–¥–∞
                            —Å–∏, –∫–∞—Ç–æ –≥–æ —Ä–∞–∑–¥–µ–ª–∏–º –Ω–∞ —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω–∏, –Ω–µ–∑–∞–≤–∏—Å–∏–º–∏
                            —Å–ª–æ—è. –ü–æ–º–∏—Å–ª–µ—Ç–µ –∑–∞ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç:
                        </p>
                        <div class="grid md:grid-cols-3 gap-6 mt-6">
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="font-bold text-lg text-indigo-700">
                                    Presentation Layer (–°–µ—Ä–≤–∏—Ç—å–æ—Ä)
                                </h3>
                                <p class="text-sm mt-2">
                                    –¢–æ–≤–∞ –µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏—è—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤–∞—à–∞—Ç–∞
                                    WinForms —Ñ–æ—Ä–º–∞). –¢–æ–π –ø—Ä–∏–µ–º–∞ "–ø–æ—Ä—ä—á–∫–∞—Ç–∞" –æ—Ç
                                    –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è –∏ –º—É –ø–æ–∫–∞–∑–≤–∞ "–≥–æ—Ç–æ–≤–∞—Ç–∞ —Ö—Ä–∞–Ω–∞".
                                    –ù–µ –∑–Ω–∞–µ –∫–∞–∫ —Å–µ –≥–æ—Ç–≤–∏.
                                </p>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="font-bold text-lg text-emerald-700">
                                    Service Layer (–ì–æ—Ç–≤–∞—á)
                                </h3>
                                <p class="text-sm mt-2">
                                    –¢–æ–≤–∞ –µ –º–æ–∑—ä–∫—ä—Ç –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ. –¢–æ–π –ø–æ–ª—É—á–∞–≤–∞
                                    –ø–æ—Ä—ä—á–∫–∞—Ç–∞ –æ—Ç —Å–µ—Ä–≤–∏—Ç—å–æ—Ä–∞, —Å–ª–µ–¥–≤–∞ "—Ä–µ—Ü–µ–ø—Ç–∞—Ç–∞"
                                    (–±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞—Ç–∞), –≤–∑–∏–º–∞ –ø—Ä–æ–¥—É–∫—Ç–∏ –æ—Ç —Å–∫–ª–∞–¥–∞
                                    –∏ –ø—Ä–∏–≥–æ—Ç–≤—è —è—Å—Ç–∏–µ—Ç–æ.
                                </p>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow">
                                <h3 class="font-bold text-lg text-sky-700">
                                    Data Access Layer (–°–∫–ª–∞–¥)
                                </h3>
                                <p class="text-sm mt-2">
                                    –¢–æ–≤–∞ –µ –º—è—Å—Ç–æ—Ç–æ, –∫—ä–¥–µ—Ç–æ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –¥–∞–Ω–Ω–∏—Ç–µ
                                    ("–ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ"). –ù–µ–≥–æ–≤–∞—Ç–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –µ
                                    –¥–∞ –¥–∞–≤–∞ –∏ –∑–∞–ø–∏—Å–≤–∞ –¥–∞–Ω–Ω–∏, –∫–æ–≥–∞—Ç–æ –≥–æ—Ç–≤–∞—á—ä—Ç
                                    –ø–æ–∏—Å–∫–∞.
                                </p>
                            </div>
                        </div>
                        <p
                            class="mt-6 p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg"
                        >
                            <strong>–í–∞–∂–Ω–æ:</strong> –ö–æ–º—É–Ω–∏–∫–∞—Ü–∏—è—Ç–∞ –µ —Å—Ç—Ä–æ–≥–æ
                            –π–µ—Ä–∞—Ä—Ö–∏—á–Ω–∞! <strong>–°–µ—Ä–≤–∏—Ç—å–æ—Ä—ä—Ç</strong> –≥–æ–≤–æ—Ä–∏ —Å–∞–º–æ
                            —Å <strong>–ì–æ—Ç–≤–∞—á–∞</strong>.
                            <strong>–ì–æ—Ç–≤–∞—á—ä—Ç</strong> –≥–æ–≤–æ—Ä–∏ —Å—ä—Å
                            <strong>–°–∫–ª–∞–¥–∞</strong>. –°–µ—Ä–≤–∏—Ç—å–æ—Ä—ä—Ç –Ω–∏–∫–æ–≥–∞ –Ω–µ –≤–ª–∏–∑–∞
                            –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ —Å–∫–ª–∞–¥–∞!
                        </p>
                    </div>
                </div>
            </section>

            <!-- The Problem -->
            <section id="problem" class="mb-16">
                <div class="flex items-start gap-6">
                    <div class="step-indicator">2</div>
                    <div>
                        <h2 class="text-2xl font-bold mb-3">
                            –ü—Ä–æ–±–ª–µ–º—ä—Ç: –í—Å–∏—á–∫–æ –Ω–∞ –µ–¥–Ω–æ –º—è—Å—Ç–æ
                        </h2>
                        <p class="mb-4">
                            –ù–µ–∫–∞ –≤–∏–¥–∏–º –∫–∞–∫ –∏–∑–≥–ª–µ–∂–¥–∞ –∫–æ–¥, –∫–æ–π—Ç–æ –ù–ï –∏–∑–ø–æ–ª–∑–≤–∞
                            —Å–ª–æ–µ–≤–µ. –¶—è–ª–∞—Ç–∞ –ª–æ–≥–∏–∫–∞ –µ "–Ω–∞–±—É—Ç–∞–Ω–∞" –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤
                            —Å—ä–±–∏—Ç–∏–µ—Ç–æ –Ω–∞ –±—É—Ç–æ–Ω–∞ `Click` –≤—ä–≤ —Ñ–æ—Ä–º–∞—Ç–∞. –¢–æ–≤–∞ –µ –∫–∞—Ç–æ
                            —Å–µ—Ä–≤–∏—Ç—å–æ—Ä, –∫–æ–π—Ç–æ —Å–µ –æ–ø–∏—Ç–≤–∞ –µ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–∞ –ø—Ä–∏–µ–º–∞
                            –ø–æ—Ä—ä—á–∫–∏, –¥–∞ –≥–æ—Ç–≤–∏ –∏ –¥–∞ —Ç–∏—á–∞ –¥–æ —Å–∫–ª–∞–¥–∞.
                        </p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                –ö–æ–ø–∏—Ä–∞–π
                            </button>
                            <pre><code class="language-csharp">
<span class="code-comment">// –õ–æ—à–∏—è—Ç –Ω–∞—á–∏–Ω - –≤—Å–∏—á–∫–æ –µ –≤ Presentation Layer (WinForms)</span>
private void btnSave_Click(object sender, EventArgs e) <span class="code-comment">// –ú–µ—Ç–æ–¥, –∫–æ–π—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –ø—Ä–∏ –∫–ª–∏–∫ –Ω–∞ –±—É—Ç–æ–Ω–∞</span>
{
    <span class="code-comment">// 1. –í–∑–∏–º–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏ –æ—Ç UI</span>
    string name = txtProductName.Text; <span class="code-comment">// –í–∑–µ–º–∏ —Ç–µ–∫—Å—Ç–∞ –æ—Ç –ø–æ–ª–µ—Ç–æ –∑–∞ –∏–º–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç</span>
    decimal price = decimal.Parse(txtPrice.Text); <span class="code-comment">// –í–∑–µ–º–∏ —Ç–µ–∫—Å—Ç–∞ –æ—Ç –ø–æ–ª–µ—Ç–æ –∑–∞ —Ü–µ–Ω–∞ –∏ –≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–π –≤ —á–∏—Å–ª–æ</span>

    <span class="code-comment">// 2. –ë–∏–∑–Ω–µ—Å –í–∞–ª–∏–¥–∞—Ü–∏—è (—Ä–∞–±–æ—Ç–∞ –Ω–∞ –≥–æ—Ç–≤–∞—á–∞)</span>
    if (string.IsNullOrWhiteSpace(name)) <span class="code-comment">// –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –∏–º–µ—Ç–æ –µ –ø—Ä–∞–∑–Ω–æ –∏–ª–∏ —Å—ä–¥—ä—Ä–∂–∞ —Å–∞–º–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏</span>
    {
        MessageBox.Show("–ò–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–∞–∑–Ω–æ."); <span class="code-comment">// –ê–∫–æ –µ –ø—Ä–∞–∑–Ω–æ, –ø–æ–∫–∞–∂–∏ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –≥—Ä–µ—à–∫–∞</span>
        return; <span class="code-comment">// –ü—Ä–µ–∫—Ä–∞—Ç–∏ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –º–µ—Ç–æ–¥–∞</span>
    }
    if (price <= 0) <span class="code-comment">// –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ —Ü–µ–Ω–∞—Ç–∞ –µ –ø–æ-–º–∞–ª–∫–∞ –∏–ª–∏ —Ä–∞–≤–Ω–∞ –Ω–∞ –Ω—É–ª–∞</span>
    {
        MessageBox.Show("–¶–µ–Ω–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–æ —á–∏—Å–ª–æ."); <span class="code-comment">// –ê–∫–æ –µ —Ç–∞–∫–∞, –ø–æ–∫–∞–∂–∏ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –≥—Ä–µ—à–∫–∞</span>
        return; <span class="code-comment">// –ü—Ä–µ–∫—Ä–∞—Ç–∏ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –º–µ—Ç–æ–¥–∞</span>
    }

    <span class="code-comment">// 3. –õ–æ–≥–∏–∫–∞ –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –¥–∞–Ω–Ω–∏ (—Ä–∞–±–æ—Ç–∞ –Ω–∞ —Å–∫–ª–∞–¥–∞)</span>
    <span class="code-comment">// –ü—Ä–µ–¥—Å—Ç–∞–≤–µ—Ç–µ —Å–∏ —Ç—É–∫ —Å–ª–æ–∂–µ–Ω –∫–æ–¥ –∑–∞ –≤—Ä—ä–∑–∫–∞ —Å –±–∞–∑–∞ –¥–∞–Ω–Ω–∏...</span>
    Console.WriteLine($"–ó–∞–ø–∏—Å–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç '{name}' –≤ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏."); <span class="code-comment">// –°–∏–º—É–ª–∏—Ä–∞–º–µ –∑–∞–ø–∏—Å –≤ –±–∞–∑–∞—Ç–∞</span>
    
    MessageBox.Show("–ü—Ä–æ–¥—É–∫—Ç—ä—Ç –µ –∑–∞–ø–∞–∑–µ–Ω —É—Å–ø–µ—à–Ω–æ!"); <span class="code-comment">// –ü–æ–∫–∞–∑–≤–∞–º–µ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ —É—Å–ø–µ—Ö</span>
}
                        </code></pre>
                        </div>
                        <div
                            class="mt-4 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 rounded-md"
                        >
                            <p>
                                <strong class="font-bold"
                                    >–ó–∞—â–æ —Ç–æ–≤–∞ –µ –ª–æ—à–æ?</strong
                                >
                            </p>
                            <ul class="list-disc list-inside mt-2 text-sm">
                                <li>
                                    <strong>–¢—Ä—É–¥–Ω–æ –∑–∞ —á–µ—Ç–µ–Ω–µ:</strong> –õ–æ–≥–∏–∫–∞ –æ—Ç
                                    —Ä–∞–∑–ª–∏—á–µ–Ω —Ç–∏–ø –µ —Å–º–µ—Å–µ–Ω–∞.
                                </li>
                                <li>
                                    <strong
                                        >–ù–µ–≤—ä–∑–º–æ–∂–Ω–æ –∑–∞ –ø—Ä–µ–∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ:</strong
                                    >
                                    –ê–∫–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –∑–∞–ø–∞–∑–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç –æ—Ç –¥—Ä—É–≥–æ
                                    –º—è—Å—Ç–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä –æ—Ç –¥—Ä—É–≥ –ø—Ä–æ–∑–æ—Ä–µ—Ü), —Ç—Ä—è–±–≤–∞ –¥–∞
                                    –∫–æ–ø–∏—Ä–∞—Ç–µ —Ü–µ–ª–∏—è –∫–æ–¥.
                                </li>
                                <li>
                                    <strong>–¢—Ä—É–¥–Ω–æ –∑–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ:</strong> –ù–µ
                                    –º–æ–∂–µ—Ç–µ –ª–µ—Å–Ω–æ –¥–∞ —Ç–µ—Å—Ç–≤–∞—Ç–µ —Å–∞–º–æ –±–∏–∑–Ω–µ—Å
                                    –≤–∞–ª–∏–¥–∞—Ü–∏—è—Ç–∞, –±–µ–∑ –¥–∞ –∏–º–∞—Ç–µ —Ä–∞–±–æ—Ç–µ—â–∞ —Ñ–æ—Ä–º–∞.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- The Solution -->
            <section id="solution" class="mb-16">
                <div class="flex items-start gap-6">
                    <div class="step-indicator">3</div>
                    <div>
                        <h2 class="text-2xl font-bold mb-3">
                            –†–µ—à–µ–Ω–∏–µ—Ç–æ: –†–∞–∑–¥–µ–ª—è–Ω–µ –Ω–∞ —Å–ª–æ–µ–≤–µ
                        </h2>
                        <p class="mb-4">
                            –°–µ–≥–∞ —â–µ —Å—ä–∑–¥–∞–¥–µ–º –Ω–∞—à–µ—Ç–æ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–∞—Ç–æ
                            —Ä–∞–∑–¥–µ–ª–∏–º –∫–æ–¥–∞ –Ω–∞ —Ç—Ä–∏—Ç–µ —Å–ª–æ—è. –í —Ä–µ–∞–ª–µ–Ω –ø—Ä–æ–µ–∫—Ç, –≤—Å–µ–∫–∏
                            –æ—Ç —Ç–µ–∑–∏ –∫–ª–∞—Å–æ–≤–µ —â–µ –±—ä–¥–µ –≤ –æ—Ç–¥–µ–ª–µ–Ω —Ñ–∞–π–ª, –∑–∞ –¥–∞ –µ –æ—â–µ
                            –ø–æ-–ø–æ–¥—Ä–µ–¥–µ–Ω–æ.
                        </p>

                        <!-- Data Access Layer -->
                        <h3
                            class="text-xl font-semibold mt-8 mb-2 text-sky-700"
                        >
                            –°—Ç—ä–ø–∫–∞ 3.1: Data Access Layer (–ù–∞—à–∏—è—Ç "—Ñ–∞–ª—à–∏–≤"
                            —Å–∫–ª–∞–¥)
                        </h3>
                        <p class="mb-4 text-sm">
                            –ó–∞–ø–æ—á–≤–∞–º–µ –æ—Ç –Ω–∞–π-–¥–æ–ª–Ω–∏—è —Å–ª–æ–π. –ù–µ–≥–æ–≤–∞—Ç–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞
                            —Ü–µ–ª –µ –¥–∞ —É–ø—Ä–∞–≤–ª—è–≤–∞ –¥–∞–Ω–Ω–∏—Ç–µ. –¢–æ–π –µ –∫–∞—Ç–æ —Å–∫–ª–∞–¥–∞–¥–∂–∏—è -
                            –¥–∞–≤–∞—Ç–µ –º—É –∫–∞—à–æ–Ω (–æ–±–µ–∫—Ç) –∏ –º—É –∫–∞–∑–≤–∞—Ç–µ "–∑–∞–ø–∞–∑–∏ –≥–æ",
                            –∏–ª–∏ –≥–æ –ø–∏—Ç–∞—Ç–µ "–∏–º–∞–º–µ –ª–∏ —Ç–∞–∫—ä–≤ –∫–∞—à–æ–Ω". –ù–µ –≥–æ
                            –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞ –∫–∞–∫–≤–æ –∏–º–∞ –≤ –∫–∞—à–æ–Ω–∞. –¢—ä–π –∫–∞—Ç–æ –Ω–µ —Å—Ç–µ —É—á–∏–ª–∏
                            –∑–∞ –±–∞–∑–∏ –¥–∞–Ω–Ω–∏, –Ω–∞—à–∏—è—Ç "—Å–∫–ª–∞–¥" —â–µ –±—ä–¥–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω
                            —Å–ø–∏—Å—ä–∫ –≤ –ø–∞–º–µ—Ç—Ç–∞.
                        </p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                –ö–æ–ø–∏—Ä–∞–π
                            </button>
                            <pre><code class="language-csharp">
<span class="code-comment">// Product.cs - –ú–æ–¥–µ–ª, –∫–æ–π—Ç–æ –æ–ø–∏—Å–≤–∞ –¥–∞–Ω–Ω–∏—Ç–µ (—Ç–æ–≤–∞ –µ "–µ—Ç–∏–∫–µ—Ç—ä—Ç" –Ω–∞ –∫–∞—à–æ–Ω–∞)</span>
public class Product <span class="code-comment">// –î–µ–∫–ª–∞—Ä–∏—Ä–∞–º–µ –∫–ª–∞—Å, –∫–æ–π—Ç–æ —â–µ –æ–ø–∏—Å–≤–∞ –µ–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç</span>
{
    public string Name { get; set; } <span class="code-comment">// –°–≤–æ–π—Å—Ç–≤–æ (property) –∑–∞ –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞</span>
    public decimal Price { get; set; } <span class="code-comment">// –°–≤–æ–π—Å—Ç–≤–æ (property) –∑–∞ —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞</span>
}

<span class="code-comment">// ProductRepository.cs - –ù–∞—à–∏—è—Ç Data Access Layer ("—Å–∫–ª–∞–¥–∞–¥–∂–∏—è—Ç–∞")</span>
public class ProductRepository <span class="code-comment">// –î–µ–∫–ª–∞—Ä–∏—Ä–∞–º–µ –∫–ª–∞—Å, –∫–æ–π—Ç–æ —â–µ —É–ø—Ä–∞–≤–ª—è–≤–∞ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ</span>
{
    <span class="code-comment">// –°–∏–º—É–ª–∏—Ä–∞–º–µ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ —Å –æ–±–∏–∫–Ω–æ–≤–µ–Ω —Å—Ç–∞—Ç–∏—á–µ–Ω —Å–ø–∏—Å—ä–∫. 'static' –æ–∑–Ω–∞—á–∞–≤–∞, —á–µ —Ç–æ–∑–∏ —Å–ø–∏—Å—ä–∫ –µ –µ–¥–∏–Ω –∏ —Å—ä—â –∑–∞ —Ü—è–ª–æ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</span>
    private static readonly List&lt;Product&gt; _products = new List&lt;Product&gt;();

    public void Add(Product product) <span class="code-comment">// –ú–µ—Ç–æ–¥ –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤ –ø—Ä–æ–¥—É–∫—Ç</span>
    {
        _products.Add(product); <span class="code-comment">// –î–æ–±–∞–≤—è–º–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∫—ä–º –Ω–∞—à–∏—è —Å–ø–∏—Å—ä–∫</span>
        Console.WriteLine($"–ü—Ä–æ–¥—É–∫—Ç '{product.Name}' –µ –¥–æ–±–∞–≤–µ–Ω –≤ '–±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏'."); <span class="code-comment">// –ò–∑–ø–∏—Å–≤–∞–º–µ —Å—ä–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞</span>
    }

    public bool Exists(string name) <span class="code-comment">// –ú–µ—Ç–æ–¥, –∫–æ–π—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç —Å—ä—Å —Å—ä—â–æ—Ç–æ –∏–º–µ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞</span>
    {
        <span class="code-comment">// –ò–∑–ø–æ–ª–∑–≤–∞–º–µ LINQ, –∑–∞ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –¥–∞–ª–∏ –ø–æ–Ω–µ –µ–¥–∏–Ω –µ–ª–µ–º–µ–Ω—Ç –≤ —Å–ø–∏—Å—ä–∫–∞ –æ—Ç–≥–æ–≤–∞—Ä—è –Ω–∞ —É—Å–ª–æ–≤–∏–µ—Ç–æ</span>
        return _products.Any(p => p.Name.ToLower() == name.ToLower());
    }
}
                        </code></pre>
                        </div>

                        <!-- Service Layer -->
                        <h3
                            class="text-xl font-semibold mt-8 mb-2 text-emerald-700"
                        >
                            –°—Ç—ä–ø–∫–∞ 3.2: Service Layer (–ì–æ—Ç–≤–∞—á—ä—Ç —Å —Ä–µ—Ü–µ–ø—Ç–∞—Ç–∞)
                        </h3>
                        <p class="mb-4 text-sm">
                            –¢–æ–≤–∞ –µ –Ω–∞—à–∏—è—Ç "–º–æ–∑—ä–∫" –∏–ª–∏ "–≥–ª–∞–≤–µ–Ω –≥–æ—Ç–≤–∞—á". –¢–æ–π
                            –ø–æ–ª—É—á–∞–≤–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞ –æ—Ç —Å–µ—Ä–≤–∏—Ç—å–æ—Ä–∞ (–¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç
                            —Ñ–æ—Ä–º–∞—Ç–∞) –∏ –∏–∑–ø—ä–ª–Ω—è–≤–∞ "—Ä–µ—Ü–µ–ø—Ç–∞—Ç–∞". –†–µ—Ü–µ–ø—Ç–∞—Ç–∞ –≤–∫–ª—é—á–≤–∞:
                            <br />1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ (–í–∞–ª–∏–¥–∞—Ü–∏—è).
                            <br />2. –ü—Ä–∏–≥–æ—Ç–≤—è–Ω–µ –Ω–∞ —è—Å—Ç–∏–µ—Ç–æ (–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –æ–±–µ–∫—Ç).
                            <br />3. –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —Å–∫–ª–∞–¥–∞–¥–∂–∏—è—Ç–∞, –∑–∞ –¥–∞ –∑–∞–ø–∏—à–µ
                            –∫–∞–∫–≤–æ –µ —Å–≥–æ—Ç–≤–µ–Ω–æ. <br />–¢–æ–π –∏–∑–ø–æ–ª–∑–≤–∞
                            `ProductRepository`, –Ω–æ –Ω–µ –∑–Ω–∞–µ –¥–∞–ª–∏ –¥–∞–Ω–Ω–∏—Ç–µ —Å–µ
                            –ø–∞–∑—è—Ç –≤ —Å–ø–∏—Å—ä–∫, —Ñ–∞–π–ª –∏–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏. –ù–µ–≥–æ –Ω–µ –≥–æ
                            –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞.
                        </p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                –ö–æ–ø–∏—Ä–∞–π
                            </button>
                            <pre><code class="language-csharp">
<span class="code-comment">// ProductService.cs - –ù–∞—à–∏—è—Ç Service Layer</span>
public class ProductService <span class="code-comment">// –î–µ–∫–ª–∞—Ä–∏—Ä–∞–º–µ –∫–ª–∞—Å, –∫–æ–π—Ç–æ —â–µ —Å—ä–¥—ä—Ä–∂–∞ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞—Ç–∞</span>
{
    <span class="code-comment">// –°—ä–∑–¥–∞–≤–∞–º–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—Ç–æ, –∑–∞ –¥–∞ –º–æ–∂–µ–º –¥–∞ —Ä–∞–±–æ—Ç–∏–º —Å –¥–∞–Ω–Ω–∏—Ç–µ</span>
    private readonly ProductRepository _productRepository = new ProductRepository();

    <span class="code-comment">// –ú–µ—Ç–æ–¥ –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç, –∫–æ–π—Ç–æ –ø—Ä–∏–µ–º–∞ –∏–º–µ –∏ —Ü–µ–Ω–∞</span>
    public void CreateProduct(string name, decimal price)
    {
        <span class="code-comment">// 1. –ë–∏–∑–Ω–µ—Å –í–∞–ª–∏–¥–∞—Ü–∏—è (–ì–æ—Ç–≤–∞—á—ä—Ç –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–∏—Ç–µ)</span>
        if (string.IsNullOrWhiteSpace(name)) <span class="code-comment">// –ü—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ –∏–º–µ—Ç–æ –µ –ø—Ä–∞–∑–Ω–æ</span>
        {
            throw new Exception("–ò–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–∞–∑–Ω–æ."); <span class="code-comment">// –ê–∫–æ –µ, "—Ö–≤—ä—Ä–ª—è–º–µ" –≥—Ä–µ—à–∫–∞ (exception), –∑–∞ –¥–∞ —Å–ø—Ä–µ–º –ø—Ä–æ—Ü–µ—Å–∞</span>
        }
        if (price <= 0) <span class="code-comment">// –ü—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ —Ü–µ–Ω–∞—Ç–∞ –µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª–Ω–∞ –∏–ª–∏ –Ω—É–ª–∞</span>
        {
            throw new Exception("–¶–µ–Ω–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–æ —á–∏—Å–ª–æ."); <span class="code-comment">// –ê–∫–æ –µ, "—Ö–≤—ä—Ä–ª—è–º–µ" –≥—Ä–µ—à–∫–∞</span>
        }
        if (_productRepository.Exists(name)) <span class="code-comment">// –ò–∑–ø–æ–ª–∑–≤–∞–º–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—Ç–æ, –∑–∞ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –¥–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç—ä—Ç –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞</span>
        {
             throw new Exception("–ü—Ä–æ–¥—É–∫—Ç —Å —Ç–∞–∫–æ–≤–∞ –∏–º–µ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞."); <span class="code-comment">// –ê–∫–æ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞, "—Ö–≤—ä—Ä–ª—è–º–µ" –≥—Ä–µ—à–∫–∞</span>
        }

        <span class="code-comment">// 2. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –æ–±–µ–∫—Ç–∞ (–ì–æ—Ç–≤–∞—á—ä—Ç –ø—Ä–∏–≥–æ—Ç–≤—è —è—Å—Ç–∏–µ—Ç–æ)</span>
        var product = new Product <span class="code-comment">// –°—ä–∑–¥–∞–≤–∞–º–µ –Ω–æ–≤ –æ–±–µ–∫—Ç –æ—Ç —Ç–∏–ø Product</span>
        {
            Name = name, <span class="code-comment">// –ó–∞–¥–∞–≤–∞–º–µ –º—É –∏–º–µ</span>
            Price = price <span class="code-comment">// –ó–∞–¥–∞–≤–∞–º–µ –º—É —Ü–µ–Ω–∞</span>
        };

        <span class="code-comment">// 3. –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ Data Access Layer (–ì–æ—Ç–≤–∞—á—ä—Ç –∫–∞–∑–≤–∞ –Ω–∞ —Å–∫–ª–∞–¥–∞–¥–∂–∏—è—Ç–∞ –¥–∞ –∑–∞–ø–∏—à–µ)</span>
        _productRepository.Add(product); <span class="code-comment">// –ò–∑–≤–∏–∫–≤–∞–º–µ –º–µ—Ç–æ–¥–∞ Add –æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—Ç–æ, –∑–∞ –¥–∞ –∑–∞–ø–∞–∑–∏–º –Ω–æ–≤–∏—è –ø—Ä–æ–¥—É–∫—Ç</span>
    }
}
                        </code></pre>
                        </div>

                        <!-- Presentation Layer -->
                        <h3
                            class="text-xl font-semibold mt-8 mb-2 text-indigo-700"
                        >
                            –°—Ç—ä–ø–∫–∞ 3.3: Presentation Layer (–ß–∏—Å—Ç–∏—è—Ç —Å–µ—Ä–≤–∏—Ç—å–æ—Ä)
                        </h3>
                        <p class="mb-4 text-sm">
                            –ù–∞–∫—Ä–∞—è, —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ "—Å–µ—Ä–≤–∏—Ç—å–æ—Ä–∞" (–Ω–∞—à–∞—Ç–∞ WinForms
                            —Ñ–æ—Ä–º–∞) —Å—Ç–∞–≤–∞ –º–Ω–æ–≥–æ –ª–µ—Å–Ω–∞. –ù–µ–≥–æ–≤–∏—Ç–µ –∑–∞–¥–∞—á–∏ —Å–∞ —Å–∞–º–æ
                            –¥–≤–µ: <br />1. –î–∞ –≤–∑–µ–º–µ –ø–æ—Ä—ä—á–∫–∞—Ç–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ (–¥–∞–Ω–Ω–∏—Ç–µ
                            –æ—Ç `TextBox`-–æ–≤–µ—Ç–µ). <br />2. –î–∞ —è –ø—Ä–µ–¥–∞–¥–µ –Ω–∞
                            –≥–æ—Ç–≤–∞—á–∞ (`ProductService`). <br />–ê–∫–æ –≥–æ—Ç–≤–∞—á—ä—Ç –º—É
                            –≤—ä—Ä–Ω–µ –≥—Ä–µ—à–∫–∞ ("—Å–≤—ä—Ä—à–∏—Ö–∞ –¥–æ–º–∞—Ç–∏—Ç–µ!"), —Å–µ—Ä–≤–∏—Ç—å–æ—Ä—ä—Ç
                            –ø—Ä–æ—Å—Ç–æ —è –ø—Ä–µ–¥–∞–≤–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞ (`MessageBox`). –¢–æ–π –Ω–µ
                            —Å–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞ –∫–∞–∫–≤–∏ —Å–∞ –±–∏–∑–Ω–µ—Å –ø—Ä–∞–≤–∏–ª–∞—Ç–∞.
                        </p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">
                                –ö–æ–ø–∏—Ä–∞–π
                            </button>
                            <pre><code class="language-csharp">
<span class="code-comment">// –ö–æ–¥—ä—Ç –≤ –Ω–∞—à–∞—Ç–∞ WinForms —Ñ–æ—Ä–º–∞</span>
public partial class ProductForm : Form <span class="code-comment">// –î–µ–∫–ª–∞—Ä–∞—Ü–∏—è –Ω–∞ –∫–ª–∞—Å–∞ –Ω–∞ –Ω–∞—à–∞—Ç–∞ —Ñ–æ—Ä–º–∞</span>
{
    <span class="code-comment">// –§–æ—Ä–º–∞—Ç–∞ –∏–º–∞ "–¥–∏—Ä–µ–∫—Ç–Ω–∞ –≤—Ä—ä–∑–∫–∞" —Å–∞–º–æ —Å—ä—Å —Å—ä—Ä–≤–∏—Å —Å–ª–æ—è (—Å–µ—Ä–≤–∏—Ç—å–æ—Ä—ä—Ç –≥–æ–≤–æ—Ä–∏ —Å–∞–º–æ —Å –≥–æ—Ç–≤–∞—á–∞)</span>
    private readonly ProductService _productService = new ProductService();

    public ProductForm() <span class="code-comment">// –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞, –∫–æ–π—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –ø—Ä–∏ –Ω–µ–π–Ω–æ—Ç–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ</span>
    {
        InitializeComponent(); <span class="code-comment">// –ú–µ—Ç–æ–¥, –∫–æ–π—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞ –≤—Å–∏—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏ –≤—ä—Ä—Ö—É —Ñ–æ—Ä–º–∞—Ç–∞ (–±—É—Ç–æ–Ω–∏, –ø–æ–ª–µ—Ç–∞ –∏ —Ç.–Ω.)</span>
    }

    private void btnSave_Click(object sender, EventArgs e) <span class="code-comment">// –ú–µ—Ç–æ–¥, –∫–æ–π—Ç–æ —Å–µ –∏–∑–ø—ä–ª–Ω—è–≤–∞ –ø—Ä–∏ –∫–ª–∏–∫ –Ω–∞ –±—É—Ç–æ–Ω–∞</span>
    {
        try <span class="code-comment">// –û–ø–∏—Ç–≤–∞–º–µ —Å–µ –¥–∞ –∏–∑–ø—ä–ª–Ω–∏–º –æ–ø–µ—Ä–∞—Ü–∏—è—Ç–∞. 'try' –µ –∫–∞—Ç–æ "–ø—Ä–æ–±–≤–∞–π –¥–∞ –ø—Ä–µ–¥–∞–¥–µ—à –ø–æ—Ä—ä—á–∫–∞—Ç–∞"</span>
        {
            string name = txtProductName.Text; <span class="code-comment">// –í–∑–µ–º–∏ —Ç–µ–∫—Å—Ç–∞ –æ—Ç –ø–æ–ª–µ—Ç–æ –∑–∞ –∏–º–µ</span>
            decimal price = decimal.Parse(txtPrice.Text); <span class="code-comment">// –í–∑–µ–º–∏ —Ç–µ–∫—Å—Ç–∞ –æ—Ç –ø–æ–ª–µ—Ç–æ –∑–∞ —Ü–µ–Ω–∞ –∏ –≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–≤–∞–π –≤ —á–∏—Å–ª–æ</span>
            
            <span class="code-comment">// –ü—Ä–æ—Å—Ç–æ –∏–∑–≤–∏–∫–≤–∞–º–µ —É—Å–ª—É–≥–∞—Ç–∞! –ü—Ä–µ–¥–∞–≤–∞–º–µ –ø–æ—Ä—ä—á–∫–∞—Ç–∞ –Ω–∞ –≥–æ—Ç–≤–∞—á–∞.</span>
            _productService.CreateProduct(name, price); <span class="code-comment">// –ò–∑–≤–∏–∫–≤–∞–º–µ –º–µ—Ç–æ–¥–∞ –æ—Ç –Ω–∞—à–∏—è —Å—ä—Ä–≤–∏—Å, –∫–∞—Ç–æ –º—É –ø–æ–¥–∞–≤–∞–º–µ –¥–∞–Ω–Ω–∏—Ç–µ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞</span>
            
            MessageBox.Show("–ü—Ä–æ–¥—É–∫—Ç—ä—Ç –µ –∑–∞–ø–∞–∑–µ–Ω —É—Å–ø–µ—à–Ω–æ!"); <span class="code-comment">// –ê–∫–æ –≥–æ—Ç–≤–∞—á—ä—Ç –Ω–µ –µ –≤—ä—Ä–Ω–∞–ª –≥—Ä–µ—à–∫–∞, –≤—Å–∏—á–∫–æ –µ –Ω–∞—Ä–µ–¥.</span>
        }
        catch (Exception ex) <span class="code-comment">// –ê–∫–æ –≥–æ—Ç–≤–∞—á—ä—Ç –µ "—Ö–≤—ä—Ä–ª–∏–ª" –≥—Ä–µ—à–∫–∞, –Ω–∏–µ —è "—Ö–≤–∞—â–∞–º–µ" —Ç—É–∫.</span>
        {
            <span class="code-comment">// –£–ª–∞–≤—è–º–µ –≥—Ä–µ—à–∫–∏—Ç–µ, —Ö–≤—ä—Ä–ª–µ–Ω–∏ –æ—Ç Service Layer, –∏ –≥–∏ –ø–æ–∫–∞–∑–≤–∞–º–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞.</span>
            MessageBox.Show($"–ì—Ä–µ—à–∫–∞: {ex.Message}"); <span class="code-comment">// –ü–æ–∫–∞–∑–≤–∞–º–µ —Å—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ –æ—Ç –≥—Ä–µ—à–∫–∞—Ç–∞ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è</span>
        }
    }
}
                        </code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Interactive Demo -->
            <section id="demo" class="mb-16">
                <div class="flex items-start gap-6">
                    <div class="step-indicator">4</div>
                    <div>
                        <h2 class="text-2xl font-bold mb-3">
                            –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –î–µ–º–æ: –ò–∑–ø—Ä–æ–±–≤–∞–π —Å–∞–º!
                        </h2>
                        <p class="mb-6">
                            –ü–æ-–¥–æ–ª—É –µ —Å–∏–º—É–ª–∞—Ü–∏—è –Ω–∞ –Ω–∞—à–µ—Ç–æ WinForms –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
                            –í—ä–≤–µ–¥–∏ –¥–∞–Ω–Ω–∏ –∏ –Ω–∞—Ç–∏—Å–Ω–∏ "–ó–∞–ø–∞–∑–∏", –∑–∞ –¥–∞ –≤–∏–¥–∏—à –∫–∞–∫
                            Service Layer-—ä—Ç —Ä–∞–±–æ—Ç–∏ –≤ –¥–µ–π—Å—Ç–≤–∏–µ. –û–ø–∏—Ç–∞–π –¥–∞
                            –≤—ä–≤–µ–¥–µ—à –Ω–µ–≤–∞–ª–∏–¥–Ω–∏ –¥–∞–Ω–Ω–∏ (–ø—Ä–∞–∑–Ω–æ –∏–º–µ, —Ü–µ–Ω–∞ 0, –∏–ª–∏
                            —Å—ä—â–æ—Ç–æ –∏–º–µ –¥–≤–∞ –ø—ä—Ç–∏).
                        </p>
                        <p
                            class="text-sm p-3 bg-blue-50 border border-blue-200 rounded-md mb-6"
                        >
                            üí° <strong>–°—ä–≤–µ—Ç:</strong> –û—Ç–≤–æ—Ä–µ—Ç–µ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞ –Ω–∞
                            –±—Ä–∞—É–∑—ä—Ä–∞ (—Å F12), –∑–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏—è—Ç–∞, –∫–æ–∏—Ç–æ
                            –Ω–∞—à–∏—è—Ç "—Ñ–∞–ª—à–∏–≤" Data Access Layer –∏–∑–ø–∏—Å–≤–∞, –∫–æ–≥–∞—Ç–æ
                            –∑–∞–ø–∏—Å–≤–∞ –ø—Ä–æ–¥—É–∫—Ç!
                        </p>

                        <div class="winforms-window max-w-2xl mx-auto">
                            <div class="winforms-titlebar">
                                <span>–î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤ –ø—Ä–æ–¥—É–∫—Ç</span>
                                <span>&times;</span>
                            </div>
                            <div
                                class="winforms-body grid md:grid-cols-2 gap-8"
                            >
                                <!-- Input Form -->
                                <div>
                                    <div class="mb-4">
                                        <label
                                            for="productName"
                                            class="block text-sm font-medium text-gray-700 mb-1"
                                            >–ò–º–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞:</label
                                        >
                                        <input
                                            type="text"
                                            id="productName"
                                            class="w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                                        />
                                    </div>
                                    <div class="mb-6">
                                        <label
                                            for="productPrice"
                                            class="block text-sm font-medium text-gray-700 mb-1"
                                            >–¶–µ–Ω–∞:</label
                                        >
                                        <input
                                            type="number"
                                            id="productPrice"
                                            class="w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                                        />
                                    </div>
                                    <button
                                        id="saveButton"
                                        class="w-full bg-indigo-600 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                                    >
                                        –ó–∞–ø–∞–∑–∏
                                    </button>
                                    <div
                                        id="messageBox"
                                        class="mt-4 text-sm p-3 rounded-md"
                                        style="display: none"
                                    ></div>
                                </div>
                                <!-- Product List -->
                                <div>
                                    <h4
                                        class="font-semibold text-gray-800 border-b pb-2 mb-2"
                                    >
                                        –ü—Ä–æ–¥—É–∫—Ç–∏ –≤ "–±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏":
                                    </h4>
                                    <div
                                        id="productList"
                                        class="text-sm text-gray-600 space-y-1"
                                    >
                                        <p class="text-gray-400 italic">
                                            –í—Å–µ –æ—â–µ –Ω—è–º–∞ –ø—Ä–æ–¥—É–∫—Ç–∏.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Conclusion -->
            <section id="conclusion">
                <div class="flex items-start gap-6">
                    <div class="step-indicator">5</div>
                    <div>
                        <h2 class="text-2xl font-bold mb-3">
                            –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ –ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞
                        </h2>
                        <p class="mb-4">
                            –ü–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è! –í–µ—á–µ –∑–Ω–∞–µ—Ç–µ —Å—ä—â–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Ç—Ä–∏—Å–ª–æ–π–Ω–∞—Ç–∞
                            –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞. –ö–∞—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ö—Ç–µ –∫–æ–¥–∞, –≤–∏–µ –ø–æ—Å—Ç–∏–≥–Ω–∞—Ö—Ç–µ:
                        </p>
                        <div
                            class="mt-4 p-4 bg-green-100 border-l-4 border-green-500 text-green-800 rounded-md"
                        >
                            <ul class="list-disc list-inside space-y-1">
                                <li>
                                    <strong>–ü—Ä–µ–∏–∑–ø–æ–ª–∑–≤–∞–µ–º–æ—Å—Ç:</strong> –ú–æ–∂–µ—Ç–µ –¥–∞
                                    –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ `ProductService` –Ω–∞–≤—Å—è–∫—ä–¥–µ, –Ω–µ
                                    —Å–∞–º–æ –≤ —Ç–∞–∑–∏ —Ñ–æ—Ä–º–∞.
                                </li>
                                <li>
                                    <strong>–õ–µ—Å–Ω–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞:</strong> –ê–∫–æ –±–∏–∑–Ω–µ—Å
                                    –ø—Ä–∞–≤–∏–ª–æ —Å–µ –ø—Ä–æ–º–µ–Ω–∏, –ø—Ä–æ–º–µ–Ω—è—Ç–µ –≥–æ —Å–∞–º–æ –Ω–∞
                                    –µ–¥–Ω–æ –º—è—Å—Ç–æ - –≤ Service Layer.
                                </li>
                                <li>
                                    <strong>–Ø—Å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:</strong> –ö–æ–¥—ä—Ç –µ
                                    –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–Ω, —á–∏—Å—Ç –∏ –ª–µ—Å–µ–Ω –∑–∞ —Ä–∞–∑–±–∏—Ä–∞–Ω–µ.
                                </li>
                                <li>
                                    <strong>–õ–µ—Å–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ:</strong> –ú–æ–∂–µ—Ç–µ –¥–∞
                                    —Ç–µ—Å—Ç–≤–∞—Ç–µ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞—Ç–∞ –≤ `ProductService`
                                    –Ω–∞–ø—ä–ª–Ω–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏—è
                                    –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
                                </li>
                            </ul>
                        </div>
                        <p class="mt-6">
                            –ö–æ–≥–∞—Ç–æ –∑–∞–ø–æ—á–Ω–µ—Ç–µ –¥–∞ —É—á–∏—Ç–µ –∑–∞ –±–∞–∑–∏ –¥–∞–Ω–Ω–∏, –ø—Ä–æ—Å—Ç–æ —â–µ
                            –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞—à–∏—è "—Ñ–∞–ª—à–∏–≤" `ProductRepository` —Å
                            –∏—Å—Ç–∏–Ω—Å–∫–∏, –∫–æ–π—Ç–æ —Ä–∞–±–æ—Ç–∏ —Å SQL, –∏ –æ—Å—Ç–∞–Ω–∞–ª–∞—Ç–∞ —á–∞—Å—Ç –æ—Ç
                            –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –≤–∏ –Ω—è–º–∞ –¥–∞ —Å–µ –Ω—É–∂–¥–∞–µ –æ—Ç –ø–æ—á—Ç–∏ –Ω–∏–∫–∞–∫–≤–∏
                            –ø—Ä–æ–º–µ–Ω–∏! –¢–æ–≤–∞ –µ —Å–∏–ª–∞—Ç–∞ –Ω–∞ –¥–æ–±—Ä–∞—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞.
                        </p>
                    </div>
                </div>
            </section>
        </main>
        <a href="index2.html"
            ><button class="button">–ö—ä–º –∑–∞—á–∞—Ç–∞ –∑–∞ —Ä–∞–±–æ—Ç–∞ –≤ –∫–ª–∞—Å</button></a
        >
        <footer
            class="text-center py-6 bg-slate-800 text-slate-400 text-sm mt-16"
        >
            <p>&copy; –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–µ–Ω —É—Ä–æ–∫ - –∏–Ω–∂. –ü–ª–∞–º–µ–Ω–∞ –Ø–Ω–µ–≤–∞</p>
        </footer>

        <script>
            // --- JavaScript –∑–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Ç–æ –¥–µ–º–æ ---

            // –°–ª–æ–π 3: Data Access Layer (–°–∏–º—É–ª–∞—Ü–∏—è)
            const productRepository = {
                // –ò–∑–ø–æ–ª–∑–≤–∞–º–µ –º–∞—Å–∏–≤, –∑–∞ –¥–∞ —Å–∏–º—É–ª–∏—Ä–∞–º–µ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏
                _products: [],
                add: function (product) {
                    this._products.push(product);
                    console.log(
                        `[Data Access Layer] –ü—Ä–æ–¥—É–∫—Ç '${product.name}' –µ –¥–æ–±–∞–≤–µ–Ω.`
                    );
                },
                exists: function (name) {
                    const found = this._products.some(
                        (p) => p.name.toLowerCase() === name.toLowerCase()
                    );
                    console.log(
                        `[Data Access Layer] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞–Ω–µ –Ω–∞ '${name}': ${found}`
                    );
                    return found;
                },
                getAll: function () {
                    return this._products;
                },
            };

            // –°–ª–æ–π 2: Service Layer (–°–∏–º—É–ª–∞—Ü–∏—è)
            const productService = {
                createProduct: function (name, price) {
                    console.log(
                        "[Service Layer] –ü–æ–ª—É—á–µ–Ω–∞ –∑–∞—è–≤–∫–∞ –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç."
                    );
                    // 1. –ë–∏–∑–Ω–µ—Å –í–∞–ª–∏–¥–∞—Ü–∏—è
                    if (!name || name.trim() === "") {
                        console.error(
                            "[Service Layer] –í–∞–ª–∏–¥–∞—Ü–∏—è—Ç–∞ –Ω–µ –ø—Ä–µ–º–∏–Ω–∞: –ò–º–µ—Ç–æ –µ –ø—Ä–∞–∑–Ω–æ."
                        );
                        throw new Error(
                            "–ò–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–∞–∑–Ω–æ."
                        );
                    }
                    const priceNumber = Number(price);
                    if (isNaN(priceNumber) || priceNumber <= 0) {
                        console.error(
                            "[Service Layer] –í–∞–ª–∏–¥–∞—Ü–∏—è—Ç–∞ –Ω–µ –ø—Ä–µ–º–∏–Ω–∞: –¶–µ–Ω–∞—Ç–∞ –Ω–µ –µ –≤–∞–ª–∏–¥–Ω–∞."
                        );
                        throw new Error(
                            "–¶–µ–Ω–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–æ —á–∏—Å–ª–æ."
                        );
                    }
                    console.log(
                        "[Service Layer] –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ Data Layer –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞–Ω–µ..."
                    );
                    if (productRepository.exists(name)) {
                        console.error(
                            "[Service Layer] –í–∞–ª–∏–¥–∞—Ü–∏—è—Ç–∞ –Ω–µ –ø—Ä–µ–º–∏–Ω–∞: –ü—Ä–æ–¥—É–∫—Ç—ä—Ç –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞."
                        );
                        throw new Error(
                            "–ü—Ä–æ–¥—É–∫—Ç —Å —Ç–∞–∫–æ–≤–∞ –∏–º–µ –≤–µ—á–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞."
                        );
                    }

                    // 2. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –æ–±–µ–∫—Ç–∞
                    const product = { name: name, price: priceNumber };
                    console.log(
                        "[Service Layer] –í–∞–ª–∏–¥–∞—Ü–∏—è—Ç–∞ –µ —É—Å–ø–µ—à–Ω–∞. –°—ä–∑–¥–∞–¥–µ–Ω –µ –æ–±–µ–∫—Ç."
                    );

                    // 3. –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ Data Access Layer
                    console.log(
                        "[Service Layer] –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ Data Layer –∑–∞ –∑–∞–ø–∏—Å."
                    );
                    productRepository.add(product);
                    console.log("[Service Layer] –ü—Ä–æ—Ü–µ—Å—ä—Ç –ø—Ä–∏–∫–ª—é—á–∏ —É—Å–ø–µ—à–Ω–æ.");
                },
            };

            // –°–ª–æ–π 1: Presentation Layer (–°–∏–º—É–ª–∞—Ü–∏—è –Ω–∞ WinForms)
            const saveButton = document.getElementById("saveButton");
            const productNameInput = document.getElementById("productName");
            const productPriceInput = document.getElementById("productPrice");
            const messageBox = document.getElementById("messageBox");
            const productListDiv = document.getElementById("productList");

            saveButton.addEventListener("click", function () {
                // –¢–æ–≤–∞ –µ –µ–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ä—Ç –Ω–∞ btnSave_Click
                try {
                    const name = productNameInput.value;
                    const price = productPriceInput.value;
                    console.log(
                        "[Presentation Layer] –ë—É—Ç–æ–Ω—ä—Ç '–ó–∞–ø–∞–∑–∏' –µ –Ω–∞—Ç–∏—Å–Ω–∞—Ç. –ò–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ Service Layer..."
                    );

                    // –ò–∑–≤–∏–∫–≤–∞–º–µ Service Layer
                    productService.createProduct(name, price);

                    // –ü–æ–∫–∞–∑–≤–∞–º–µ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ —É—Å–ø–µ—Ö
                    showMessage("–ü—Ä–æ–¥—É–∫—Ç—ä—Ç –µ –∑–∞–ø–∞–∑–µ–Ω —É—Å–ø–µ—à–Ω–æ!", "success");

                    // –ò–∑—á–∏—Å—Ç–≤–∞–º–µ –ø–æ–ª–µ—Ç–∞—Ç–∞
                    productNameInput.value = "";
                    productPriceInput.value = "";
                    productNameInput.focus();

                    // –û–±–Ω–æ–≤—è–≤–∞–º–µ —Å–ø–∏—Å—ä–∫–∞ —Å –ø—Ä–æ–¥—É–∫—Ç–∏
                    updateProductList();
                } catch (error) {
                    console.warn(
                        `[Presentation Layer] –•–≤–∞–Ω–∞—Ç–∞ –µ –≥—Ä–µ—à–∫–∞ –æ—Ç Service Layer: ${error.message}`
                    );
                    // –ü–æ–∫–∞–∑–≤–∞–º–µ –≥—Ä–µ—à–∫–∞ –æ—Ç Service Layer
                    showMessage(`–ì—Ä–µ—à–∫–∞: ${error.message}`, "error");
                }
            });

            function showMessage(text, type) {
                messageBox.textContent = text;
                messageBox.style.display = "block";
                if (type === "success") {
                    messageBox.className =
                        "mt-4 text-sm p-3 rounded-md bg-green-100 text-green-800";
                } else {
                    messageBox.className =
                        "mt-4 text-sm p-3 rounded-md bg-red-100 text-red-800";
                }
            }

            function updateProductList() {
                const products = productRepository.getAll();
                if (products.length === 0) {
                    productListDiv.innerHTML =
                        '<p class="text-gray-400 italic">–í—Å–µ –æ—â–µ –Ω—è–º–∞ –ø—Ä–æ–¥—É–∫—Ç–∏.</p>';
                } else {
                    productListDiv.innerHTML = "";
                    products.forEach((p) => {
                        const productElement = document.createElement("div");
                        productElement.textContent = `- ${
                            p.name
                        } (${p.price.toFixed(2)} –ª–≤.)`;
                        productListDiv.appendChild(productElement);
                    });
                }
            }

            // --- –ü–æ–º–æ—â–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞ –∫–æ–ø–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–¥ ---
            function copyCode(button) {
                const pre = button.nextElementSibling;
                const code = pre.querySelector("code");
                const text = code.innerText;

                navigator.clipboard
                    .writeText(text)
                    .then(() => {
                        button.textContent = "–ö–æ–ø–∏—Ä–∞–Ω–æ!";
                        setTimeout(() => {
                            button.textContent = "–ö–æ–ø–∏—Ä–∞–π";
                        }, 2000);
                    })
                    .catch((err) => {
                        console.error("–ù–µ—É—Å–ø–µ—à–Ω–æ –∫–æ–ø–∏—Ä–∞–Ω–µ: ", err);
                    });
            }
        </script>
    </body>
</html>
