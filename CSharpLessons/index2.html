<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ –ó–∞–¥–∞–Ω–∏–µ: –°–ø–∏—Å—ä–∫ —Å—ä—Å –ó–∞–¥–∞—á–∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .step-number {
            background-color: #4f46e5;
            color: white;
            min-width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            margin-right: 12px;
        }
        .code-block {
            background-color: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            position: relative;
            overflow-x: auto;
            margin-top: 1rem;
        }
        .code-block pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .code-block .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #334155;
            color: #cbd5e1;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 0.8rem;
        }
        .code-block .copy-btn:hover {
            background-color: #475569;
        }
        .code-comment { color: #94a3b8; }
        .code-keyword { color: #818cf8; }
        .code-type { color: #34d399; }
        .code-string { color: #f87171; }
        h2 {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e5e7eb;
        }
        h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
        }
        li {
            margin-bottom: 0.75rem;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white shadow">
        <div class="container mx-auto px-6 py-5">
            <h1 class="text-3xl font-bold text-indigo-600">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ –ó–∞–¥–∞–Ω–∏–µ: –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ "–°–ø–∏—Å—ä–∫ —Å—ä—Å –∑–∞–¥–∞—á–∏"</h1>
            <p class="text-slate-600 mt-1">–ü—Ä–∏–ª–∞–≥–∞–Ω–µ –Ω–∞ —Ç—Ä–∏—Å–ª–æ–π–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤ C# –∏ WinForms.</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-10">

        <!-- Part 1 -->
        <section class="mb-12">
            <h2>–ß–∞—Å—Ç 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞</h2>
            <p class="mb-6">–ü—ä—Ä–≤–æ, —Ç—Ä—è–±–≤–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º –æ—Å–Ω–æ–≤–∞—Ç–∞ –Ω–∞ –Ω–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –¥–∞ –ø–æ–¥–≥–æ—Ç–≤–∏–º –ø–∞–ø–∫–∏—Ç–µ –∑–∞ —Ç—Ä–∏—Ç–µ —Å–ª–æ—è.</p>
            
            <h3><span class="step-number">1</span>–°—ä–∑–¥–∞–π—Ç–µ –Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç</h3>
            <ul class="list-inside list-disc ml-4">
                <li>–û—Ç–≤–æ—Ä–µ—Ç–µ Visual Studio.</li>
                <li>–ò–∑–±–µ—Ä–µ—Ç–µ <strong>Create a new project</strong>.</li>
                <li>–í —Ç—ä—Ä—Å–∞—á–∫–∞—Ç–∞ –Ω–∞–ø–∏—à–µ—Ç–µ <code>Windows Forms App (.NET Framework)</code> –∏ –≥–æ –∏–∑–±–µ—Ä–µ—Ç–µ. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ <strong>Next</strong>.</li>
                <li>–ó–∞ <strong>Project name</strong> –Ω–∞–ø–∏—à–µ—Ç–µ <code>ToDoApp</code>.</li>
                <li>–ù–∞—Ç–∏—Å–Ω–µ—Ç–µ <strong>Create</strong>.</li>
            </ul>
             <img src="https://placehold.co/800x450/e0e7ff/4f46e5?text=Visual+Studio%0A%D0%9D%D0%BE%D0%B2+%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82" alt="Visual Studio new project window" class="mt-4 rounded-lg shadow-md border">

            <h3><span class="step-number">2</span>–°—ä–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫–∏ –∑–∞ —Å–ª–æ–µ–≤–µ—Ç–µ</h3>
            <ul class="list-inside list-disc ml-4">
                <li>–í –ø—Ä–æ–∑–æ—Ä–µ—Ü–∞ <strong>Solution Explorer</strong> (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –≤–¥—è—Å–Ω–æ), –∫–ª–∏–∫–Ω–µ—Ç–µ —Å –¥–µ—Å–µ–Ω –±—É—Ç–æ–Ω –≤—ä—Ä—Ö—É –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ (`ToDoApp`).</li>
                <li>–ò–∑–±–µ—Ä–µ—Ç–µ <strong>Add -> New Folder</strong>. –ù–∞–∑–æ–≤–µ—Ç–µ –ø–∞–ø–∫–∞—Ç–∞ <code>Models</code>.</li>
                <li>–ü–æ–≤—Ç–æ—Ä–µ—Ç–µ, –∑–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—Ç–µ –ø–∞–ø–∫–∏ <code>DataAccessLayer</code> –∏ <code>Services</code>.</li>
            </ul>
            <p class="mt-4 p-4 bg-indigo-50 border-l-4 border-indigo-400 rounded-r-lg text-sm">
                <strong>–ó–∞—â–æ –ø—Ä–∞–≤–∏–º —Ç–æ–≤–∞?</strong> –û—â–µ –æ—Ç —Å–∞–º–æ—Ç–æ –Ω–∞—á–∞–ª–æ –≤—ä–≤–µ–∂–¥–∞–º–µ —Ä–µ–¥. –í—Å–µ–∫–∏ —Ñ–∞–π–ª, –∫–æ–π—Ç–æ —Å—ä–∑–¥–∞–≤–∞–º–µ, —â–µ –æ—Ç–∏–¥–µ –≤ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ –ø–∞–ø–∫–∞ —Å–ø–æ—Ä–µ–¥ —Ä–æ–ª—è—Ç–∞, –∫–æ—è—Ç–æ –∏–∑–ø—ä–ª–Ω—è–≤–∞.
            </p>
        </section>

        <!-- Part 2 -->
        <section class="mb-12">
            <h2>–ß–∞—Å—Ç 2: Data Access Layer ("–°–∫–ª–∞–¥")</h2>
            <p class="mb-6">–ó–∞–ø–æ—á–≤–∞–º–µ –æ—Ç –Ω–∞–π-–¥–æ–ª–Ω–∏—è —Å–ª–æ–π. –¢–æ–π —â–µ –æ—Ç–≥–æ–≤–∞—Ä—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ –∑–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∏–µ—Ç–æ –∏ –¥–æ—Å—Ç—ä–ø–∞ –¥–æ –Ω–∞—à–∏—Ç–µ –∑–∞–¥–∞—á–∏.</p>

            <h3><span class="step-number">1</span>–°—ä–∑–¥–∞–π—Ç–µ –ú–æ–¥–µ–ª–∞ (–µ—Ç–∏–∫–µ—Ç–∞ –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ)</h3>
            <ul class="list-inside list-disc ml-4">
                <li>–ö–ª–∏–∫–Ω–µ—Ç–µ —Å –¥–µ—Å–µ–Ω –±—É—Ç–æ–Ω –≤—ä—Ä—Ö—É –ø–∞–ø–∫–∞—Ç–∞ <code>Models</code> -> <strong>Add -> Class...</strong></li>
                <li>–ù–∞–∑–æ–≤–µ—Ç–µ –∫–ª–∞—Å–∞ <code>TaskItem.cs</code> –∏ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ <strong>Add</strong>.</li>
                <li>–í—ä—Ç—Ä–µ –≤ –∫–ª–∞—Å–∞ –Ω–∞–ø–∏—à–µ—Ç–µ —Å–ª–µ–¥–Ω–∏—è –∫–æ–¥:</li>
            </ul>
            <div class="code-block">
                <button class="copy-btn">–ö–æ–ø–∏—Ä–∞–π</button>
                <pre><code><span class="code-comment">// –§–∞–π–ª: Models/TaskItem.cs</span>
<span class="code-keyword">public class</span> <span class="code-type">TaskItem</span>
{
    <span class="code-comment">// –°–≤–æ–π—Å—Ç–≤–æ, –∫–æ–µ—Ç–æ —â–µ —Å—ä–¥—ä—Ä–∂–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞</span>
    <span class="code-keyword">public string</span> Description { <span class="code-keyword">get</span>; <span class="code-keyword">set</span>; }

    <span class="code-comment">// –°–≤–æ–π—Å—Ç–≤–æ, –∫–æ–µ—Ç–æ –ø–æ–∫–∞–∑–≤–∞ –¥–∞–ª–∏ –∑–∞–¥–∞—á–∞—Ç–∞ –µ –∏–∑–ø—ä–ª–Ω–µ–Ω–∞</span>
    <span class="code-keyword">public bool</span> IsDone { <span class="code-keyword">get</span>; <span class="code-keyword">set</span>; }
}</code></pre>
            </div>
            <p class="mt-4 text-sm text-slate-600"><strong>–û–±—è—Å–Ω–µ–Ω–∏–µ:</strong> –¢–æ–∑–∏ –∫–ª–∞—Å –µ –ø—Ä–æ—Å—Ç–æ <strong>—á–µ—Ä—Ç–µ–∂</strong>. –¢–æ–π –æ–ø–∏—Å–≤–∞ –∫–∞–∫ –∏–∑–≥–ª–µ–∂–¥–∞ –µ–¥–Ω–∞ –∑–∞–¥–∞—á–∞ –≤ –Ω–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</p>

            <h3><span class="step-number">2</span>–°—ä–∑–¥–∞–π—Ç–µ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—Ç–æ ("—Å–∫–ª–∞–¥–∞–¥–∂–∏—è—Ç–∞")</h3>
             <ul class="list-inside list-disc ml-4">
                <li>–ö–ª–∏–∫–Ω–µ—Ç–µ —Å –¥–µ—Å–µ–Ω –±—É—Ç–æ–Ω –≤—ä—Ä—Ö—É –ø–∞–ø–∫–∞—Ç–∞ <code>DataAccessLayer</code> -> <strong>Add -> Class...</strong></li>
                <li>–ù–∞–∑–æ–≤–µ—Ç–µ –∫–ª–∞—Å–∞ <code>TaskRepository.cs</code> –∏ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ <strong>Add</strong>.</li>
            </ul>
            <div class="code-block">
                <button class="copy-btn">–ö–æ–ø–∏—Ä–∞–π</button>
                <pre><code><span class="code-comment">// –§–∞–π–ª: DataAccessLayer/TaskRepository.cs</span>
<span class="code-keyword">using</span> System.Collections.Generic; <span class="code-comment">// –¢—Ä—è–±–≤–∞ –Ω–∏, –∑–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ List&lt;&gt;</span>
<span class="code-keyword">using</span> ToDoApp.Models; <span class="code-comment">// –¢—Ä—è–±–≤–∞ –Ω–∏, –∑–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –∫–ª–∞—Å–∞ TaskItem</span>

<span class="code-keyword">public class</span> <span class="code-type">TaskRepository</span>
{
    <span class="code-comment">// –¢–æ–≤–∞ –µ –Ω–∞—à–∏—è—Ç "—Ñ–∞–ª—à–∏–≤" —Å–∫–ª–∞–¥ - —Å—Ç–∞—Ç–∏—á–µ–Ω —Å–ø–∏—Å—ä–∫.</span>
    <span class="code-keyword">private static readonly</span> List&lt;<span class="code-type">TaskItem</span>&gt; _tasks = <span class="code-keyword">new</span> List&lt;<span class="code-type">TaskItem</span>&gt;();

    <span class="code-keyword">public</span> List&lt;<span class="code-type">TaskItem</span>&gt; GetAllTasks()
    {
        <span class="code-keyword">return</span> _tasks;
    }

    <span class="code-keyword">public void</span> AddTask(<span class="code-type">TaskItem</span> task)
    {
        _tasks.Add(task);
    }
}</code></pre>
            </div>
             <p class="mt-4 text-sm text-slate-600"><strong>–û–±—è—Å–Ω–µ–Ω–∏–µ:</strong> –¢–æ–∑–∏ –∫–ª–∞—Å –∏–º–∞ –¥–≤–µ –ø—Ä–æ—Å—Ç–∏ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏: –¥–∞ –¥–æ–±–∞–≤—è –∑–∞–¥–∞—á–∏ –≤ —Å–ø–∏—Å—ä–∫–∞ –∏ –¥–∞ –≤—Ä—ä—â–∞ —Ü–µ–ª–∏—è —Å–ø–∏—Å—ä–∫. –¢–æ–π –Ω–µ –ø—Ä–∞–≤–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.</p>
        </section>

        <!-- Part 3 -->
        <section class="mb-12">
            <h2>–ß–∞—Å—Ç 3: Service Layer ("–ú–æ–∑—ä–∫—ä—Ç")</h2>
             <p class="mb-6">–¢–æ–∑–∏ —Å–ª–æ–π —â–µ —Å—ä–¥—ä—Ä–∂–∞ "–ø—Ä–∞–≤–∏–ª–∞—Ç–∞" –Ω–∞ –Ω–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —â–µ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–∞ —Ä–∞–±–æ—Ç–∞—Ç–∞ –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ —Å–∫–ª–∞–¥–∞.</p>
             <h3><span class="step-number">1</span>–°—ä–∑–¥–∞–π—Ç–µ –°—ä—Ä–≤–∏—Å–∞ ("–≥–æ—Ç–≤–∞—á–∞")</h3>
             <ul class="list-inside list-disc ml-4">
                <li>–ö–ª–∏–∫–Ω–µ—Ç–µ —Å –¥–µ—Å–µ–Ω –±—É—Ç–æ–Ω –≤—ä—Ä—Ö—É –ø–∞–ø–∫–∞—Ç–∞ <code>Services</code> -> <strong>Add -> Class...</strong></li>
                <li>–ù–∞–∑–æ–≤–µ—Ç–µ –∫–ª–∞—Å–∞ <code>TaskService.cs</code> –∏ –Ω–∞—Ç–∏—Å–Ω–µ—Ç–µ <strong>Add</strong>.</li>
            </ul>
            <div class="code-block">
                <button class="copy-btn">–ö–æ–ø–∏—Ä–∞–π</button>
                <pre><code><span class="code-comment">// –§–∞–π–ª: Services/TaskService.cs</span>
<span class="code-keyword">using</span> System;
<span class="code-keyword">using</span> System.Collections.Generic;
<span class="code-keyword">using</span> ToDoApp.DataAccessLayer;
<span class="code-keyword">using</span> ToDoApp.Models;

<span class="code-keyword">public class</span> <span class="code-type">TaskService</span>
{
    <span class="code-keyword">private readonly</span> <span class="code-type">TaskRepository</span> _taskRepository = <span class="code-keyword">new</span> <span class="code-type">TaskRepository</span>();

    <span class="code-keyword">public</span> List&lt;<span class="code-type">TaskItem</span>&gt; GetAllTasks()
    {
        <span class="code-keyword">return</span> _taskRepository.GetAllTasks();
    }

    <span class="code-keyword">public void</span> AddNewTask(<span class="code-keyword">string</span> description)
    {
        <span class="code-keyword">if</span> (<span class="code-type">string</span>.IsNullOrWhiteSpace(description))
        {
            <span class="code-keyword">throw new</span> <span class="code-type">Exception</span>(<span class="code-string">"–û–ø–∏—Å–∞–Ω–∏–µ—Ç–æ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –ø—Ä–∞–∑–Ω–æ!"</span>);
        }

        <span class="code-keyword">var</span> newTask = <span class="code-keyword">new</span> <span class="code-type">TaskItem</span>
        {
            Description = description,
            IsDone = <span class="code-keyword">false</span>
        };
        _taskRepository.AddTask(newTask);
    }

    <span class="code-keyword">public void</span> ToggleTaskStatus(<span class="code-keyword">int</span> taskIndex)
    {
        <span class="code-keyword">var</span> allTasks = _taskRepository.GetAllTasks();
        <span class="code-keyword">if</span> (taskIndex >= 0 && taskIndex < allTasks.Count)
        {
            allTasks[taskIndex].IsDone = !allTasks[taskIndex].IsDone;
        }
    }
}</code></pre>
            </div>
             <p class="mt-4 text-sm text-slate-600"><strong>–û–±—è—Å–Ω–µ–Ω–∏–µ:</strong> –ó–∞–±–µ–ª–µ–∂–µ—Ç–µ –∫–∞–∫ —Ç–æ–∑–∏ –∫–ª–∞—Å —Å—ä–¥—ä—Ä–∂–∞ <strong>–ø—Ä–∞–≤–∏–ª–∞—Ç–∞</strong> (–∑–∞–¥–∞—á–∞—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –µ –ø—Ä–∞–∑–Ω–∞). –¢–æ–π –µ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫—ä—Ç –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –¥–∞–Ω–Ω–∏—Ç–µ.</p>
        </section>

        <!-- Part 4 -->
        <section class="mb-12">
            <h2>–ß–∞—Å—Ç 4: Presentation Layer (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å)</h2>
            <p class="mb-6">–í—Ä–µ–º–µ –µ –¥–∞ –Ω–∞–∫–∞—Ä–∞–º–µ –Ω–∞—à–µ—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–∞ –∏–∑–≥–ª–µ–∂–¥–∞ –¥–æ–±—Ä–µ –∏ –¥–∞ —Ä–∞–±–æ—Ç–∏.</p>
             <h3><span class="step-number">1</span>–î–∏–∑–∞–π–Ω –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞</h3>
             <ul class="list-inside list-disc ml-4">
                <li>–û—Ç–≤–æ—Ä–µ—Ç–µ <code>Form1.cs</code> –≤ —Ä–µ–∂–∏–º –Ω–∞ –¥–∏–∑–∞–π–Ω.</li>
                <li>–û—Ç **Toolbox** –ø–ª—ä–∑–Ω–µ—Ç–µ **TextBox**, **Button** –∏ **CheckedListBox**.</li>
                <li>–í **Properties** –ø—Ä–æ–∑–æ—Ä–µ—Ü–∞ –∑–∞–¥–∞–π—Ç–µ —Å–ª–µ–¥–Ω–∏—Ç–µ <strong>(Name)</strong> —Å–≤–æ–π—Å—Ç–≤–∞:
                    <ul>
                        <li><code>txtNewTask</code> –∑–∞ TextBox</li>
                        <li><code>btnAdd</code> –∑–∞ Button (–∏ `Text` –Ω–∞ `–î–æ–±–∞–≤–∏`)</li>
                        <li><code>clbTasks</code> –∑–∞ CheckedListBox</li>
                    </ul>
                </li>
             </ul>
             <img src="https://placehold.co/800x300/e0e7ff/4f46e5?text=WinForms+%D0%B4%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD" alt="Simple WinForms layout" class="mt-4 rounded-lg shadow-md border">

             <h3><span class="step-number">2</span>–ù–∞–ø–∏—à–µ—Ç–µ –∫–æ–¥–∞ –∑–∞–¥ —Ñ–æ—Ä–º–∞—Ç–∞ ("—Å–µ—Ä–≤–∏—Ç—å–æ—Ä–∞")</h3>
             <ul class="list-inside list-disc ml-4">
                <li>–ö–ª–∏–∫–Ω–µ—Ç–µ –¥–≤–∞ –ø—ä—Ç–∏ –≤—ä—Ä—Ö—É –±—É—Ç–æ–Ω–∞ "–î–æ–±–∞–≤–∏", –∑–∞ –¥–∞ —Å–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ `btnAdd_Click` —Å—ä–±–∏—Ç–∏–µ—Ç–æ.</li>
                <li>–û—Ç–≤–æ—Ä–µ—Ç–µ `Form1.cs` –≤ —Ä–µ–∂–∏–º –Ω–∞ –∫–æ–¥ –∏ –≥–æ –∑–∞–º–µ–Ω–µ—Ç–µ —Å—ä—Å —Å–ª–µ–¥–Ω–∏—è:</li>
             </ul>
             <div class="code-block">
                <button class="copy-btn">–ö–æ–ø–∏—Ä–∞–π</button>
                <pre><code><span class="code-comment">// –§–∞–π–ª: Form1.cs</span>
<span class="code-keyword">using</span> System;
<span class="code-keyword">using</span> System.Windows.Forms;
<span class="code-keyword">using</span> ToDoApp.Services;

<span class="code-keyword">public partial class</span> <span class="code-type">Form1</span> : <span class="code-type">Form</span>
{
    <span class="code-keyword">private readonly</span> <span class="code-type">TaskService</span> _taskService = <span class="code-keyword">new</span> <span class="code-type">TaskService</span>();

    <span class="code-keyword">public</span> Form1()
    {
        InitializeComponent();
        RefreshTaskList();
    }

    <span class="code-keyword">private void</span> btnAdd_Click(<span class="code-type">object</span> sender, <span class="code-type">EventArgs</span> e)
    {
        <span class="code-keyword">try</span>
        {
            _taskService.AddNewTask(txtNewTask.Text);
            txtNewTask.Clear();
            RefreshTaskList();
        }
        <span class="code-keyword">catch</span> (<span class="code-type">Exception</span> ex)
        {
            <span class="code-type">MessageBox</span>.Show($<span class="code-string">"–ì—Ä–µ—à–∫–∞: {ex.Message}"</span>);
        }
    }

    <span class="code-keyword">private void</span> clbTasks_ItemCheck(<span class="code-type">object</span> sender, <span class="code-type">ItemCheckEventArgs</span> e)
    {
        _taskService.ToggleTaskStatus(e.Index);
        BeginInvoke((<span class="code-type">MethodInvoker</span>)<span class="code-keyword">delegate</span> { RefreshTaskList(); });
    }

    <span class="code-keyword">private void</span> RefreshTaskList()
    {
        clbTasks.Items.Clear();
        <span class="code-keyword">var</span> allTasks = _taskService.GetAllTasks();
        <span class="code-keyword">foreach</span> (<span class="code-keyword">var</span> task <span class="code-keyword">in</span> allTasks)
        {
            clbTasks.Items.Add(task.Description, task.IsDone);
        }
    }
}</code></pre>
            </div>
        </section>

        <!-- Part 5 -->
        <section>
             <h2>–ß–∞—Å—Ç 5: –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –∏ –¢–µ—Å—Ç</h2>
             <p class="mb-6">–ù–∞—Ç–∏—Å–Ω–µ—Ç–µ <strong>F5</strong> –∏–ª–∏ –∑–µ–ª–µ–Ω–∏—è –±—É—Ç–æ–Ω "Start", –∑–∞ –¥–∞ —Å—Ç–∞—Ä—Ç–∏—Ä–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ.</p>
             <div class="mt-4 p-4 bg-green-100 border-l-4 border-green-500 text-green-800 rounded-md">
                <p><strong class="font-bold">–¢–µ—Å—Ç–≤–∞–π—Ç–µ:</strong></p>
                <ul class="list-disc list-inside mt-2 text-sm">
                    <li>–û–ø–∏—Ç–∞–π—Ç–µ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ –ø—Ä–∞–∑–Ω–∞ –∑–∞–¥–∞—á–∞. –¢—Ä—è–±–≤–∞ –¥–∞ –≤–∏–¥–∏—Ç–µ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –≥—Ä–µ—à–∫–∞.</li>
                    <li>–î–æ–±–∞–≤–µ—Ç–µ –Ω—è–∫–æ–ª–∫–æ –≤–∞–ª–∏–¥–Ω–∏ –∑–∞–¥–∞—á–∏. –¢–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø–æ—è–≤—è—Ç –≤ —Å–ø–∏—Å—ä–∫–∞.</li>
                    <li>–û—Ç–±–µ–ª–µ–∂–µ—Ç–µ –Ω—è–∫–æ—è –∑–∞–¥–∞—á–∞ –∫–∞—Ç–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∞. –¢—è —Ç—Ä—è–±–≤–∞ –¥–∞ –æ—Å—Ç–∞–Ω–µ –≤ —Å–ø–∏—Å—ä–∫–∞, –Ω–æ —Å –æ—Ç–º–µ—Ç–∫–∞.</li>
                </ul>
            </div>
            <div class="mt-8 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 rounded-md">
                <p><strong class="font-bold">üî• –ë–æ–Ω—É—Å –ø—Ä–µ–¥–∏–∑–≤–∏–∫–∞—Ç–µ–ª—Å—Ç–≤–æ (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)</strong></p>
                <p class="mt-2 text-sm">–û–ø–∏—Ç–∞–π—Ç–µ —Å–µ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ –±—É—Ç–æ–Ω "–ò–∑—Ç—Ä–∏–π". –ó–∞ —Ü–µ–ª—Ç–∞ —â–µ —Ç—Ä—è–±–≤–∞ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ `DeleteTask` –º–µ—Ç–æ–¥–∏ –≤ `TaskRepository` –∏ `TaskService` –∏ –¥–∞ –≥–∏ –∏–∑–≤–∏–∫–∞—Ç–µ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞.</p>
            </div>
        </section>

    </main>

     <footer class="text-center py-6 bg-slate-800 text-slate-400 text-sm mt-16">
        <p>–£—Å–ø–µ—Ö —Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ—Ç–æ!</p>
    </footer>

    <script>
        document.querySelectorAll('.copy-btn').forEach(button => {
            button.addEventListener('click', () => {
                const pre = button.parentElement.querySelector('pre');
                const text = pre.innerText;
                navigator.clipboard.writeText(text).then(() => {
                    button.textContent = '–ö–æ–ø–∏—Ä–∞–Ω–æ!';
                    setTimeout(() => {
                        button.textContent = '–ö–æ–ø–∏—Ä–∞–π';
                    }, 2000);
                }).catch(err => {
                    console.error('–ù–µ—É—Å–ø–µ—à–Ω–æ –∫–æ–ø–∏—Ä–∞–Ω–µ: ', err);
                });
            });
        });
    </script>
</body>
</html>
